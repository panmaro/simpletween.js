var Tween=(function(){var f=[];var b=30;var i=function(k){for(var j=f.length-1;j>=0;j--){if(f[j]&&f[j].target===k){return j}}return -1};var d=function(j){j=j.match(/([0-9]+)/g);return{r:parseInt(j[0]),g:parseInt(j[1]),b:parseInt(j[2])}};function g(j){return(typeof HTMLElement=="object"?j instanceof HTMLElement:j&&typeof j=="object"&&j.nodeType===1&&typeof j.nodeName==="string")}var c={ease_in:function(k,j,m,l){return m*(k/=l)*k*k*k+j},ease_out:function(k,j,m,l){return -m*((k=k/l-1)*k*k*k-1)+j},ease_inout:function(k,j,m,l){if((k/=l/2)<1){return m/2*k*k*k*k+j}return -m/2*((k-=2)*k*k*k-2)+j},ease_outin:function(l,k,o,n){var m=(l/=n)*l,j=m*l;return k+o*(-0.002546148949710947*j*m+0.006365372374279588*m*m+5.996180776575432*j+-9.00063653723743*m+4.000636537237429*l)},ease_linear:function(k,j,m,l){return m*k/l+j},ease_elastic:function(l,k,o,n){var m=(l/=n)*l,j=m*l;return k+o*(1.5109254498714684*j*m+-11.272493573264782*m*m+18.149100257069406*j+-10.205655526992288*m+2.8181233933161955*l)}};var e={x:"left",y:"top",alpha:"opacity"};var a=function(q,j,o,l){this.state=0;this.dtime=1000/b;this.target=q;this.props=[];this.duration=o;this.currentFrame=0;this.properitesCount=0;this.easingFunction=c.ease_inout;this.delayBefore=0;this.delayAfter=0;if(typeof l=="object"){this.onComplete=l.onComplete;this.onStep=l.onStep;this.onStart=l.onStart;this.callbackParams=l.params}else{if(typeof l=="function"){this.onComplete=l}}if(typeof o=="object"){this.delayBefore=Math.round(o.delayBefore*b)||Math.round(o.delay*b)||0;this.delayAfter=Math.round(o.delayAfter*b)||0;this.duration=o.duration||1;if(o.easing&&typeof c["ease_"+o.easing]=="function"){this.easingFunction=c["ease_"+o.easing]}}this.count=Math.round(this.duration*b);var n=g(q);for(var m in j){this.props.push(this.newProperty(m,j[m],n));this.properitesCount++}this.state=1;if(navigator.userAgent.search("MSIE")==-1){this.interval=setInterval(this.step,this.dtime,this)}else{var k=this;this.interval=setInterval(function(){k.step(k)},this.dtime)}};a.prototype.newProperty=function(j,n,m){var l={};l.type="number";if(typeof n!="object"){n={to:n}}if(m){l.name=e[j]||j;l.target=this.defaultTarget(l.name);var k=this.getInitialValueFromTargetStyle(l.target[l.name]||0);l.from=n.from||k.value;l.unit=n.unit||k.unit;l.type=n.type||k.type;l.to=(l.type=="color")?d(n.to):n.to}else{l.name=j;l.target=this.target;l.from=n.from||l.target[l.name]||0;l.to=n.to;l.unit=n.unit||null}return l};a.prototype.getInitialValueFromTargetStyle=function(l){var k={unit:null,type:"number"};if(typeof l=="number"){k.value=l}else{if(l.indexOf("rgb")!=-1){k.type="color";k.value=d(l)}else{if(/^[0-9\.]+[a-z]+$/.test(l)){var j=l.match(/^([0-9\.]+)([a-z]+)$/);k.value=parseFloat(j[1]);k.unit=j[2]}else{k.value=parseFloat(l)}}}return k};a.prototype.step=function(m){switch(m.state){case 1:if(m.delayBefore){m.delayBefore--;return}else{m.state=2;if(this.onStart){this.onStart.call(this,this.callbackParams)}break}case 3:if(m.delayAfter){m.delayAfter--;return}else{m.state=4}case 4:m.stop.call(m,-1);return}var l=(m.currentFrame>=m.count);var j={};for(var k=0;k<m.properitesCount;k++){var o=m.props[k];var n;if(o.type=="color"){n=[];n.push(Math.round(m.easingFunction(m.currentFrame,o.from.r,o.to.r-o.from.r,m.count)));n.push(Math.round(m.easingFunction(m.currentFrame,o.from.g,o.to.g-o.from.g,m.count)));n.push(Math.round(m.easingFunction(m.currentFrame,o.from.b,o.to.b-o.from.b,m.count)));n="rgb("+n.join(",")+")"}else{n=m.easingFunction(m.currentFrame,o.from,o.to-o.from,m.count)}m.setProperty(o,n);j[o.name]=n}m.currentFrame++;if(m.onStep){m.onStep.call(m,m.callbackParams,j)}if(l){m.state=3}};a.prototype.stop=function(j){if(!j){j=i(this.target)}clearInterval(this.interval);delete f[j];if(this.onComplete){this.onComplete.call(this,this.callbackParams)}};a.prototype.defaultTarget=function(j){return this.target.style};a.prototype.setProperty=function(k,j){if(k.unit){j+=k.unit}k.target[k.name]=j};var h=function(o,l,n,m){if(typeof o=="string"){o=document.getElementById(o)}var j=i(o);if(j!=-1){f[j].tween.stop(j)}var k=new a(o,l,n,m);f.push({target:o,tween:k})};return{to:h}})();